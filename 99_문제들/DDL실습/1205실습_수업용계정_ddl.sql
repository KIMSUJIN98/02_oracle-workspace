CREATE TABLE TB_VOTE(
    CONNECT_ROOT CHAR(3) CHECK(CONNECT_ROOT IN ('WEB', 'APP')),
    FAN_ID VARCHAR2(20),
    FAN_PWD VARCHAR2(20) CONSTRAINT FANPWD_NN NOT NULL,
    PLAYER_POSI VARCHAR2(20) CONSTRAINT POSITION_CHECK_OR_NN CHECK(PLAYER_POSI IN ('투수', '타자', '포수')) NOT NULL,
    PLAYER_NAME VARCHAR2(20) CONSTRAINT NAME_CHECK_OR_NN CHECK(PLAYER_NAME IN('양현종', '김광현', '추신수', '나성범', '양의지')) NOT NULL,
    EVENT_PDT NUMBER CONSTRAINT ALREADY_SOLDDOUT UNIQUE,
    EVENT_PHONE VARCHAR2(13),
    VOTE_DATE DATE CONSTRAINT DATE_NN NOT NULL,
    CONSTRAINT DUPLICATE_ERROR PRIMARY KEY(CONNECT_ROOT, FAN_ID)
);

SELECT * FROM TB_VOTE;

INSERT INTO TB_VOTE
VALUES('WEB', 'qwer9402', 'abc123', '투수', '양현종', 1, '010-5049-9858', SYSDATE);

INSERT INTO TB_VOTE
VALUES('APP', 'qwer9402', 'abc123', '투수', '양현종', 1, '010-5049-9858', SYSDATE);
-- ORA-00001: unique constraint (DDL.ALREADY_SOLDDOUT) violated : 이미 매진된 상품

INSERT INTO TB_VOTE
VALUES('WEB', 'qwer9402', 'abc123', '투수', '양현종', 1, '010-5049-9858', SYSDATE);
-- ORA-00001: unique constraint (DDL.DUPLICATE_ERROR) violated : 연결기기와 아이디 둘다 이미 사용됨

INSERT INTO TB_VOTE
VALUES('APP', 'qwer9402', 'abc123', '투수', '양현종', 3, '010-5049-9858', SYSDATE);

INSERT INTO TB_VOTE
VALUES('APP', 'ksj9858', 'abc123', '포수', '양의지', null, null, SYSDATE);

INSERT INTO TB_VOTE
VALUES('WEB', 'kkk5462', '1q2w3e4r!', '타자', '나성범', 2, '010-4657-8964', '22/12/04');

INSERT INTO TB_VOTE
VALUES('WOB', 'kkk5462', '1q2w3e4r!', '타자', '나성범', 2, '010-4657-8964', '22/12/04');
-- ORA-02290: check constraint (DDL.SYS_C007112) violated : 잘못된 연결기기 값

INSERT INTO TB_VOTE
VALUES('WEB', 'sj2785', '1q2w3e4r!', '투수', '김광현', 2, '010-4657-8964', '22/12/04');
-- ORA-00001: unique constraint (DDL.ALREADY_SOLDDOUT) violated : 이미 매진된 상품

INSERT INTO TB_VOTE
VALUES('WEB', 'sj2785', '1q2w3e4r!', '투수', '김광현', 5, '010-4657-8964', '22/12/04');
